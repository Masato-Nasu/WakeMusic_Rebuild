# WakeMusic (Rebuild) v1.1.2

WakeMusic は、指定した音楽フォルダ（SAFで選択）から **ランダムに1曲ずつ** 再生して、アラームとして鳴らすアプリです。

## 使い方
1. Android Studio でこのプロジェクトを開いて実機にインストールします。
2. アプリを起動し、**「音楽フォルダを選ぶ」** で曲が入っているフォルダを選択します。
   - 選んだフォルダへのアクセス権は **永続化（persist）** されます。
3. **「アラームを追加」** で時刻を登録し、スイッチで ON/OFF できます。
4. 初回はバックグラウンドで自動スキャンして曲一覧を作ります（気づかないうちに終わります）。
5. 鳴っている最中は、全画面の「停止」または通知の「停止」で止められます。

### ツール（普段は隠しています）
- 画面上部のタイトル（WakeMusic）を **長押し** すると、
  - テスト再生
  - 停止
  - 曲一覧を更新（スキャン）
  - 停止ボタン（オーバーレイ）設定
  を開けます。

## 仕様メモ
- 再生はフォアグラウンドサービスで実行します。
- 音量はアラーム音量（STREAM_ALARM）に対して % 指定で反映します。
- Android 13+ では通知権限（POST_NOTIFICATIONS）を許可してください（フォアグラウンド通知が出せないと鳴らない場合があります）。
- Android 12+ では端末により「正確なアラーム」許可が必要です。許可がない場合はシステム設定画面が開きます。

