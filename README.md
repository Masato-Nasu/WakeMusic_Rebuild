# WakeMusic (Rebuild) v1.0.0

WakeMusic は、指定した音楽フォルダ（SAFで選択）から **ランダムに1曲ずつ** 再生して、アラームとして鳴らすアプリです。

## 使い方
1. Android Studio でこのプロジェクトを開いて実機にインストールします。
2. アプリを起動し、**「音楽フォルダを選ぶ」** で曲が入っているフォルダを選択します。
   - 選んだフォルダへのアクセス権は **永続化（persist）** されます。
3. **「スキャン」** を押すと、フォルダ配下（サブフォルダ含む）の音楽ファイルを一覧化しキャッシュします。
4. **「アラームを追加」** で時刻を登録し、スイッチで ON/OFF できます。
5. **「テスト再生」** で、いま設定中のフォルダから再生が始まります。
6. 鳴っている最中は、全画面の「停止」または通知の「停止」で止められます。

## 仕様メモ
- 再生はフォアグラウンドサービスで実行します。
- 音量はアラーム音量（STREAM_ALARM）に対して % 指定で反映します。
- Android 13+ では通知権限（POST_NOTIFICATIONS）を許可してください（フォアグラウンド通知が出せないと鳴らない場合があります）。
- Android 12+ では端末により「正確なアラーム」許可が必要です。許可がない場合はシステム設定画面が開きます。

